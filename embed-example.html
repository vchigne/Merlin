<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplos de Dashboard Embebido - Merlin Control Center</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #4f46e5;
            padding-bottom: 10px;
        }
        .example {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .example h2 {
            color: #4f46e5;
            margin-top: 0;
        }
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        .iframe-container {
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
            margin: 15px 0;
        }
        iframe {
            width: 100%;
            border: none;
            display: block;
        }
        .filter-info {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 12px;
            margin: 10px 0;
        }
        .filter-info code {
            background: #dbeafe;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }
        .feature-list {
            background: #f0fdf4;
            border-left: 4px solid #10b981;
            padding: 12px;
            margin: 10px 0;
        }
        .feature-list li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1>üéõÔ∏è Merlin Control Center - Dashboard Embebido</h1>
    
    <div class="feature-list">
        <strong>‚ú® Caracter√≠sticas del Dashboard:</strong>
        <ul>
            <li>üìä M√©tricas en tiempo real de agentes, ejecuciones, tasa de √©xito y errores</li>
            <li>ü§ñ Estado compacto de agentes con indicadores visuales</li>
            <li>‚ö†Ô∏è Panel de errores recientes con detalles completos</li>
            <li>üìã Tabla de trabajos recientes con estados</li>
            <li>‚ö° Feed de actividad en tiempo real</li>
            <li>üîç Filtrado por regex con soporte para flags inline</li>
            <li>üîÑ Actualizaci√≥n autom√°tica cada 10-30 segundos</li>
            <li>üé® Dise√±o profesional estilo centro de control</li>
        </ul>
    </div>

    <p>
        El dashboard embebido de Merlin te permite insertar un centro de control completo en cualquier p√°gina web.
        Usa el par√°metro <code>filter</code> con una expresi√≥n regular para mostrar solo los pipelines que necesites.
    </p>

    <!-- Ejemplo 1: Sin filtro -->
    <div class="example">
        <h2>Ejemplo 1: Dashboard Completo (Sin Filtro)</h2>
        <div class="filter-info">
            <strong>URL:</strong> <code>/embed/dashboard</code> (sin par√°metros)<br>
            <strong>Muestra:</strong> Todos los pipelines, agentes, trabajos y errores del sistema
        </div>
        
        <div class="code-block">&lt;iframe 
  src="http://localhost:5000/embed/dashboard"
  width="100%" 
  height="900px"
  frameborder="0"&gt;
&lt;/iframe&gt;</div>

        <div class="iframe-container">
            <iframe src="http://localhost:5000/embed/dashboard" height="900px"></iframe>
        </div>
    </div>

    <!-- Ejemplo 2: Filtro case-insensitive -->
    <div class="example">
        <h2>Ejemplo 2: Filtro Case-Insensitive "Alicorp"</h2>
        <div class="filter-info">
            <strong>Filtro:</strong> <code>(?i).*alicorp.*</code><br>
            <strong>Descripci√≥n:</strong> Pipelines que contengan "alicorp" en cualquier parte del nombre, sin importar may√∫sculas/min√∫sculas<br>
            <strong>Uso:</strong> Ideal para dashboards espec√≠ficos de clientes
        </div>
        
        <div class="code-block">&lt;iframe 
  src="http://localhost:5000/embed/dashboard?filter=(?i).*alicorp.*"
  width="100%" 
  height="900px"
  frameborder="0"&gt;
&lt;/iframe&gt;</div>

        <div class="iframe-container">
            <iframe src="http://localhost:5000/embed/dashboard?filter=(?i).*alicorp.*" height="900px"></iframe>
        </div>
    </div>

    <!-- Ejemplo 3: Pipelines que empiezan con "prod" -->
    <div class="example">
        <h2>Ejemplo 3: Pipelines de Producci√≥n</h2>
        <div class="filter-info">
            <strong>Filtro:</strong> <code>^prod.*</code><br>
            <strong>Descripci√≥n:</strong> Solo pipelines que comiencen con "prod"<br>
            <strong>Uso:</strong> Monitoreo de entornos de producci√≥n
        </div>
        
        <div class="code-block">&lt;iframe 
  src="http://localhost:5000/embed/dashboard?filter=^prod.*"
  width="100%" 
  height="900px"
  frameborder="0"&gt;
&lt;/iframe&gt;</div>

        <div class="iframe-container">
            <iframe src="http://localhost:5000/embed/dashboard?filter=^prod.*" height="900px"></iframe>
        </div>
    </div>

    <!-- Ejemplo 4: Pipelines que terminan con "test" -->
    <div class="example">
        <h2>Ejemplo 4: Pipelines de Testing</h2>
        <div class="filter-info">
            <strong>Filtro:</strong> <code>.*test$</code><br>
            <strong>Descripci√≥n:</strong> Solo pipelines que terminen con "test"<br>
            <strong>Uso:</strong> Dashboard de entorno de pruebas
        </div>
        
        <div class="code-block">&lt;iframe 
  src="http://localhost:5000/embed/dashboard?filter=.*test$"
  width="100%" 
  height="900px"
  frameborder="0"&gt;
&lt;/iframe&gt;</div>

        <div class="iframe-container">
            <iframe src="http://localhost:5000/embed/dashboard?filter=.*test$" height="900px"></iframe>
        </div>
    </div>

    <!-- Ejemplo 5: M√∫ltiples palabras con OR -->
    <div class="example">
        <h2>Ejemplo 5: M√∫ltiples Categor√≠as (ETL o Sync)</h2>
        <div class="filter-info">
            <strong>Filtro:</strong> <code>(?i).*(etl|sync).*</code><br>
            <strong>Descripci√≥n:</strong> Pipelines que contengan "etl" o "sync" (case insensitive)<br>
            <strong>Uso:</strong> Agrupaci√≥n de pipelines por tipo de operaci√≥n
        </div>
        
        <div class="code-block">&lt;iframe 
  src="http://localhost:5000/embed/dashboard?filter=(?i).*(etl|sync).*"
  width="100%" 
  height="900px"
  frameborder="0"&gt;
&lt;/iframe&gt;</div>

        <div class="iframe-container">
            <iframe src="http://localhost:5000/embed/dashboard?filter=(?i).*(etl|sync).*" height="900px"></iframe>
        </div>
    </div>

    <!-- Gu√≠a de Referencia -->
    <div class="example">
        <h2>üìö Gu√≠a de Referencia de Regex</h2>
        
        <h3>Flags Soportados:</h3>
        <ul>
            <li><code>(?i)</code> - Case insensitive (no distingue may√∫sculas/min√∫sculas)</li>
            <li><code>(?m)</code> - Multiline mode</li>
            <li><code>(?s)</code> - Dotall mode (. coincide con saltos de l√≠nea)</li>
        </ul>

        <h3>Patrones Comunes:</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr style="background: #f3f4f6;">
                <th style="padding: 8px; text-align: left; border: 1px solid #e5e7eb;">Patr√≥n</th>
                <th style="padding: 8px; text-align: left; border: 1px solid #e5e7eb;">Descripci√≥n</th>
                <th style="padding: 8px; text-align: left; border: 1px solid #e5e7eb;">Ejemplo</th>
            </tr>
            <tr>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>.*palabra.*</code></td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;">Contiene "palabra"</td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>.*produccion.*</code></td>
            </tr>
            <tr>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>^palabra</code></td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;">Empieza con "palabra"</td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>^prod</code></td>
            </tr>
            <tr>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>palabra$</code></td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;">Termina con "palabra"</td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>test$</code></td>
            </tr>
            <tr>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>(?i)palabra</code></td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;">Case insensitive</td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>(?i)alicorp</code></td>
            </tr>
            <tr>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>(a|b)</code></td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;">A o B</td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>(prod|test)</code></td>
            </tr>
            <tr>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>[0-9]+</code></td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;">Uno o m√°s d√≠gitos</td>
                <td style="padding: 8px; border: 1px solid #e5e7eb;"><code>pipeline[0-9]+</code></td>
            </tr>
        </table>

        <h3>Consejos de Uso:</h3>
        <ul>
            <li>üîπ Usa <code>(?i)</code> al inicio para b√∫squedas sin importar may√∫sculas/min√∫sculas</li>
            <li>üîπ Usa <code>.*</code> para "contiene" en cualquier parte</li>
            <li>üîπ Usa <code>^</code> y <code>$</code> para coincidencias exactas al inicio/final</li>
            <li>üîπ Combina con <code>|</code> para m√∫ltiples opciones</li>
            <li>üîπ Prueba primero en la URL del navegador antes de embedir</li>
        </ul>
    </div>

    <div class="example">
        <h2>üöÄ Uso en Producci√≥n</h2>
        <p>Para usar en producci√≥n, reemplaza <code>http://localhost:5000</code> con tu URL de Replit:</p>
        <div class="code-block">&lt;iframe 
  src="https://tu-app.replit.app/embed/dashboard?filter=(?i).*alicorp.*"
  width="100%" 
  height="900px"
  frameborder="0"
  allow="fullscreen"
  style="border: none; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);"&gt;
&lt;/iframe&gt;</div>

        <h3>üí° Casos de Uso Recomendados:</h3>
        <ul>
            <li><strong>Dashboards de Clientes:</strong> Filtra por nombre de cliente para mostrar solo sus pipelines</li>
            <li><strong>Monitoreo por Entorno:</strong> Separa producci√≥n, staging y desarrollo</li>
            <li><strong>Vistas por Departamento:</strong> Filtra pipelines de ventas, finanzas, operaciones, etc.</li>
            <li><strong>Pantallas de TV:</strong> Muestra en modo kiosko en la oficina para monitoreo en tiempo real</li>
            <li><strong>Reportes Embebidos:</strong> Integra en portales web o aplicaciones internas</li>
        </ul>

        <h3>‚öôÔ∏è Caracter√≠sticas T√©cnicas:</h3>
        <ul>
            <li>‚úÖ Actualizaci√≥n autom√°tica cada 10-30 segundos</li>
            <li>‚úÖ Totalmente responsive (m√≥vil, tablet, desktop)</li>
            <li>‚úÖ Sin autenticaci√≥n requerida para embedido</li>
            <li>‚úÖ Soporta modo oscuro autom√°tico</li>
            <li>‚úÖ Optimizado para rendimiento</li>
            <li>‚úÖ Sin l√≠mite de instancias embebidas</li>
        </ul>
    </div>

    <footer style="text-align: center; padding: 40px 0; color: #6b7280; border-top: 1px solid #e5e7eb; margin-top: 40px;">
        <p><strong>Merlin Observer Dashboard</strong> - Sistema de Monitoreo de Agentes Distribuidos</p>
        <p style="font-size: 14px; margin-top: 10px;">Centro de Control en Tiempo Real para Infraestructura de Automatizaci√≥n</p>
    </footer>
</body>
</html>
